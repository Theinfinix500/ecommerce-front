<div class="flex items-center justify-end mb-8" *appHasRole="'Admin'">
  <button
    [routerLink]="'./new'"
    class="px-8 py-3 bg-blue-500 text-white uppercase flex items-center justify-center"
  >
    <mat-icon
      class="mr-3"
      aria-hidden="false"
      aria-label="Example home icon"
      fontSet="material-icons-outlined"
      >add</mat-icon
    >
    New Product
  </button>
</div>
<!-- container -->
<div class="grid grid-cols-[repeat(auto-fill,minmax(300px,1fr))] gap-5">
  <!-- item which can be tranformed to a component -->
  <div
    *ngFor="let product of products | async"
    class="shadow-xl bg-white h-[420px]"
  >
    <a [routerLink]="['/products/detail/', product.id]">
      <div class="h-[60%] overflow-hidden">
        <img *ngIf="product.picture.url"
          class="w-full h-full object-cover object-top"
          [defaultImage]="product.picture.formats.thumbnail.url"
          [lazyLoad]="product.picture.url"
          [alt]="product.picture.name"
        />
      </div>
      <div class="p-3 flex flex-col h-[40%]">
        <h2 class="font-bold">{{ product.title }}</h2>
        <p class="flex-1">{{ product.description }}</p>
        <div class="mt-2 flex items-end">
          <button class="px-2 py-1 bg-blue-600 text-white rounded w-full">
            {{ product.price | currency : "MAD" : "DH" : "" : "fr-FR" }}
          </button>
        </div>
      </div>
    </a>
  </div>
</div>
